<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Form</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1 class="text-center">Supplier Form</h1>
    <form action="/api/supplier/form" method="post" enctype="multipart/form-data">
        <div class="mb-3">
            <label for="companyName" class="form-label">Company Name</label>
            <input type="text" class="form-control" id="companyName" name="companyName" required>
        </div>

        <div class="mb-3">
            <label for="contactPerson" class="form-label">Contact Person</label>
            <input type="text" class="form-control" id="contactPerson" name="contactPerson" required>
        </div>

        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>

        <div class="mb-3">
            <label for="address" class="form-label">Address</label>
            <input type="text" class="form-control" id="address" name="address">
        </div>

        <div class="mb-3">
            <label for="phoneNumber" class="form-label">Phone Number</label>
            <input type="text" class="form-control" id="phoneNumber" name="phoneNumber">
        </div>

        <div class="mb-3">
            <label for="website" class="form-label">Website</label>
            <input type="url" class="form-control" id="website" name="website">
        </div>

        <div id="products-section">
            <label class="form-label">Products and Descriptions</label>
            <div class="row mb-2 product-row">
                <div class="col-md-5">
                    <input type="text" class="form-control" name="products[0].product" placeholder="Product Name" required>
                </div>
                <div class="col-md-5">
                    <input type="text" class="form-control" name="products[0].description" placeholder="Description" required>
                </div>
                <div class="col-md-2">
                    <button type="button" class="btn btn-danger remove-product">Remove</button>
                </div>
            </div>
        </div>
        <button type="button" class="btn btn-primary mb-3" id="add-product">+ Add Product</button>

        <div class="mb-3">
            <label for="productCatalogue" class="form-label">Product Catalogue</label>
            <input type="file" class="form-control" id="productCatalogue" name="productCatalogue" ><!--accept="application/*"-->
        </div>

        <div class="mb-3">
            <label for="comment" class="form-label">Comment</label>
            <textarea class="form-control" id="comment" name="comment" rows="4"></textarea>
        </div>

        <button type="submit" class="btn btn-success">Submit</button>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    let productIndex = 1;

    // Add new product row
    $('#add-product').click(function() {
        const productRow = `
                <div class="row mb-2 product-row">
                    <div class="col-md-5">
                        <input type="text" class="form-control" name="products[${productIndex}].product" placeholder="Product Name" required>
                    </div>
                    <div class="col-md-5">
                        <input type="text" class="form-control" name="products[${productIndex}].description" placeholder="Description" required>
                    </div>
                    <div class="col-md-2">
                        <button type="button" class="btn btn-danger remove-product">Remove</button>
                    </div>
                </div>
            `;
        $('#products-section').append(productRow);
        productIndex++;
    });

    // Remove product row
    $(document).on('click', '.remove-product', function() {
        $(this).closest('.product-row').remove();
    });
</script>
</body>
</html>
